<div class="container-fluid py-4">
    <div class="card">
      <div class="card-header">
        <h5 class="mb-0">Chỉnh sửa phim</h5>
      </div>
      <div class="card-body">
        <form [formGroup]="movieForm" (ngSubmit)="onSubmit()" class="row g-3">
          <div class="col-md-6">
            <div class="form-group">
              <label for="movieName" class="form-label">Tên phim <span class="text-danger">*</span></label>
              <input type="text" class="form-control" id="movieName" formControlName="movieName"
                [class.is-invalid]="movieForm.get('movieName')?.invalid && movieForm.get('movieName')?.touched">
              <div class="invalid-feedback" *ngIf="movieForm.get('movieName')?.invalid && movieForm.get('movieName')?.touched">
                Vui lòng nhập tên phim
              </div>
            </div>
          </div>
  
          <div class="col-md-6">
            <div class="form-group">
              <label for="duration" class="form-label">Thời lượng (phút) <span class="text-danger">*</span></label>
              <input type="number" class="form-control" id="duration" formControlName="duration"
                [class.is-invalid]="movieForm.get('duration')?.invalid && movieForm.get('duration')?.touched">
              <div class="invalid-feedback" *ngIf="movieForm.get('duration')?.invalid && movieForm.get('duration')?.touched">
                Thời lượng phải lớn hơn 0
              </div>
            </div>
          </div>
  
          <div class="col-md-6">
            <div class="form-group">
              <label for="releaseDate" class="form-label">Ngày phát hành <span class="text-danger">*</span></label>
              <input type="date" class="form-control" id="releaseDate" formControlName="releaseDate"
                [class.is-invalid]="movieForm.get('releaseDate')?.invalid && movieForm.get('releaseDate')?.touched">
            </div>
          </div>
  
          <div class="col-md-6">
            <div class="form-group">
              <label for="status" class="form-label">Trạng thái</label>
              <select class="form-select" id="status" formControlName="status">
                <option [value]="1">Hoạt động</option>
                <option [value]="0">Không hoạt động</option>
              </select>
            </div>
          </div>
  
          <div class="col-12">
            <div class="form-group">
              <label for="description" class="form-label">Mô tả <span class="text-danger">*</span></label>
              <textarea class="form-control" id="description" formControlName="description" rows="3"
                [class.is-invalid]="movieForm.get('description')?.invalid && movieForm.get('description')?.touched"></textarea>
            </div>
          </div>
  
          <div class="col-md-6">
            <div class="form-group">
              <label for="thumbnail" class="form-label">Ảnh thumbnail</label>
              <input type="file" class="form-control" id="thumbnail" (change)="onFileSelect($event, 'thumbnail')" accept="image/*">
            </div>
          </div>
  
          <div class="col-md-6">
            <div class="form-group">
              <label for="trailer" class="form-label">Trailer</label>
              <input type="file" class="form-control" id="trailer" (change)="onFileSelect($event, 'trailer')" accept="video/*">
            </div>
          </div>
  
          <div class="col-12">
            <div class="form-group">
              <label class="form-label">Diễn viên</label>
              <select multiple class="form-select" formControlName="listActorID">
                <option *ngFor="let actor of actors" [value]="actor.id">
                  {{actor.actorName}}
                </option>
              </select>
            </div>
          </div>
  
          <div class="col-12">
            <div class="d-flex gap-2">
              <button type="submit" class="btn btn-primary" [disabled]="!movieForm.valid || isLoading">
                <span *ngIf="isLoading" class="spinner-border spinner-border-sm me-1"></span>
                {{isLoading ? 'Đang cập nhật...' : 'Cập nhật'}}
              </button>
              <button type="button" class="btn btn-secondary" routerLink="/movies">Hủy</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>